# Cloudflare Workers 静态资源部署配置
# 用于部署 SPA（Single Page Application）

name = "aiskill-8personalities"
compatibility_date = "2025-12-30"

# 静态资源配置
# 将 dist/ 目录作为静态资源目录，并启用 SPA 路由回退
[assets]
directory = "./dist"
not_found_handling = "single-page-application"

# 说明：
# - directory: 指向构建产物目录（Vite 默认输出到 dist/）
# - not_found_handling: 当请求的路径在 dist/ 中找不到时，返回 index.html（200）
#   这样前端路由（如 React Router）就能正常工作
#
# 部署方式：
# 1. 本地构建：npm run build
# 2. 部署到 Cloudflare：npx wrangler deploy
#
# 注意：
# - 这是纯静态资源部署，不需要 Worker 脚本（没有 main 字段）
# - 所有路由都会回退到 index.html，支持前端路由
# - compatibility_date >= 2025-04-01 时，导航请求会优先走静态资源，减少 Worker 调用

# 环境变量（如果需要）
# [env.production.vars]
# NODE_ENV = "production"

